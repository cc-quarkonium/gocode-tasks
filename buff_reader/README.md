Нам нужно передать данные из некоторого источника (`Producer`) некоторому потребителю (`Consumer`).\
При этом источник отдает данные небольшими пачками (например, десятки записей), а потребитель оптимальнее работает с крупными батчами (например, тысячи записей).

Требования и ограничения:
- Источник:
    - Условно бесконечный.
    - Источник никогда не возвращает более `MaxItems` записей за один вызов `Next`.
    - В рамках одной "сессии" (одного вызова функции `Pipe`) источник каждый раз возвращает новые данные на каждый вызов `Next`.
    - **Каждое** значение `cookie`, которое вернул вызов `Next`, после сохранения данных в приемнике,
        должно быть фиксировано вызовом `Commit`, причем строго в той же последовательности, в которой их вернул `Next`.

- Приемник:
    - Не может обработать более `MaxItems` за один раз.